publish_mode: editorial_workflow
media_folder: "/content/images"

# Development (https://decapcms.org/docs/working-with-a-local-git-repository/)
# local_backend: true
# backend:
#   name: git-gateway

# Production
backend:
  name: github
  repo: aeroteameindhoven/website
  branch: main
  use_graphql: true
  squash_merges: true
  base_url: https://actively-working-fawn.edgecompute.app/

collections:
  - name: "sponsors"
    label: "Sponsors"
    folder: "/content/sponsors"
    media_folder: "/content/images/sponsors"
    public_folder: "/"
    preview_path: "/partners/"
    create: true
    slug: "{{slug}}"
    path: "{{package}}/{{slug}}"
    editor:
      preview: false
    identifier_field: "name"
    extension: "md"
    summary: "[{{package | upper}}] {{name}}"
    view_groups:
      - label: Packages
        field: package
    fields:
      - { label: "Name", name: "name", widget: "string" }
      - {
          label: "Logo",
          name: "logo",
          widget: "image",
          choose_url: false,
          allow_multiple: false,
        }
      - { label: "URL", name: "url", widget: "string" }
      - {
          label: "Package",
          name: "package",
          widget: "select",
          options: ["platinum", "gold", "silver"],
        }
      - { label: "Body", name: "body", widget: "markdown" }
  - name: "projects"
    label: "Projects"
    folder: "/content/projects"
    media_folder: "/content/images/projects"
    public_folder: "/"
    preview_path: "/projects/"
    create: true
    slug: "{{academic_year}}-{{slug}}"
    identifier_field: "name"
    fields:
      - { label: "Name", name: "name", widget: "string" }
      - {
          label: "Image",
          name: "image",
          widget: "image",
          choose_url: false,
          allow_multiple: false,
        }
      - {
          label: "Academic Year",
          name: "academic_year",
          widget: "number",
          value_type: "int"
        }
      - { label: "Description", name: "body", widget: "markdown" }
